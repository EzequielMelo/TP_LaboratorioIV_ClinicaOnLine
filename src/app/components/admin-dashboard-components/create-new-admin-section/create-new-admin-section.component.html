<div
  class="flex flex-col items-center justify-center px-6 py-8 mx-auto lg:py-0 mt-[30px] mb-[30px]"
>
  <!-- Header -->
  <div class="text-center mb-8">
    <div
      class="inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4"
    >
      <svg
        class="w-8 h-8 text-blue-600"
        fill="currentColor"
        viewBox="0 0 20 20"
      >
        <path
          fill-rule="evenodd"
          d="M10 2a8 8 0 100 16 8 8 0 000-16zM9 7a1 1 0 012 0v2a1 1 0 01-2 0V7zm1 6a1.5 1.5 0 110-3 1.5 1.5 0 010 3z"
          clip-rule="evenodd"
        />
      </svg>
    </div>
    <h1 class="text-4xl font-bold text-white mb-2">Nuevo Administrador</h1>
    <p class="text-blue-100 text-lg">
      Complete los datos para registrar un administrador del sistema
    </p>
  </div>

  <!-- Contenedor -->
  <div class="w-full max-w-3xl bg-white rounded-2xl shadow-2xl overflow-hidden">
    <div class="p-8">
      <form class="space-y-8" [formGroup]="registerForm">
        <!-- Datos de acceso -->
        <div
          class="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100 space-y-6"
        >
          <h3 class="text-xl font-bold text-gray-900 mb-4 flex items-center">
            <svg
              class="w-5 h-5 text-blue-600 mr-2"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path
                fill-rule="evenodd"
                d="M5 4a3 3 0 016 0h4a2 2 0 012 2v1H3V6a2 2 0 012-2zm0 5h10a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2z"
                clip-rule="evenodd"
              />
            </svg>
            Datos de acceso
          </h3>

          <!-- Email -->
          <div>
            <label class="block text-sm font-semibold text-gray-700"
              >Email</label
            >
            <input
              formControlName="email"
              type="email"
              class="w-full px-4 py-3 mt-1 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm"
              placeholder="ejemplo@correo.com"
            />
            <div class="min-h-[1rem] mt-1">
              @if (registerForm.controls['email'].errors &&
              registerForm.controls['email'].touched) { @if
              (registerForm.controls['email'].errors['required']) {
              <p class="text-xs text-red-600">Campo requerido</p>
              } @if (registerForm.controls['email'].errors['email']) {
              <p class="text-xs text-red-600">Ingrese email válido</p>
              } }
            </div>
          </div>

          <!-- Contraseñas -->
          <div class="grid md:grid-cols-2 gap-6">
            <div>
              <label class="block text-sm font-semibold text-gray-700"
                >Contraseña</label
              >
              <input
                formControlName="password"
                type="password"
                class="w-full px-4 py-3 mt-1 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm"
                placeholder="********"
              />
              <div class="min-h-[1rem] mt-1">
                @if (registerForm.controls['password'].errors &&
                registerForm.controls['password'].touched) { @if
                (registerForm.controls['password'].errors['required']) {
                <p class="text-xs text-red-600">Campo requerido</p>
                } @if (registerForm.controls['password'].errors['minlength']) {
                <p class="text-xs text-red-600">Ingrese mínimo 6 caracteres</p>
                } }
              </div>
            </div>

            <div>
              <label class="block text-sm font-semibold text-gray-700"
                >Confirmar contraseña</label
              >
              <input
                formControlName="repeat_password"
                type="password"
                class="w-full px-4 py-3 mt-1 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm"
                placeholder="********"
              />
              <div class="min-h-[1rem] mt-1">
                @if (registerForm.controls['repeat_password'].errors &&
                registerForm.controls['repeat_password'].touched) { @if
                (registerForm.controls['repeat_password'].errors['required']) {
                <p class="text-xs text-red-600">Campo requerido</p>
                } } @if (registerForm.errors?.['passwordMismatch'] &&
                registerForm.controls['repeat_password'].touched) {
                <p class="text-xs text-red-600">Las contraseñas no coinciden</p>
                }
              </div>
            </div>
          </div>
        </div>

        <!-- Datos personales -->
        <div
          class="bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-100 space-y-6"
        >
          <h3 class="text-xl font-bold text-gray-900 mb-4 flex items-center">
            <svg
              class="w-5 h-5 text-green-600 mr-2"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" />
            </svg>
            Datos personales
          </h3>

          <div class="grid md:grid-cols-2 gap-6">
            <div>
              <label class="block text-sm font-semibold text-gray-700"
                >Nombre</label
              >
              <input
                formControlName="name"
                type="text"
                class="w-full px-4 py-3 mt-1 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent shadow-sm"
                placeholder="Juan"
              />
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700"
                >Apellido</label
              >
              <input
                formControlName="last_name"
                type="text"
                class="w-full px-4 py-3 mt-1 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent shadow-sm"
                placeholder="Pérez"
              />
            </div>
          </div>

          <div class="grid md:grid-cols-2 gap-6">
            <div>
              <label class="block text-sm font-semibold text-gray-700"
                >Fecha de Nacimiento</label
              >
              <input
                formControlName="birthDate"
                type="date"
                class="w-full px-4 py-3 mt-1 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent shadow-sm"
              />
              <div class="min-h-[1rem] mt-1">
                @if (registerForm.controls['birthDate'].errors &&
                registerForm.controls['birthDate'].touched) { @if
                (registerForm.controls['birthDate'].errors['required']) {
                <p class="text-xs text-red-600">Campo requerido</p>
                } @if (registerForm.controls['birthDate'].errors['minAge']) {
                <p class="text-xs text-red-600">Edad mínima: 18 años</p>
                } @if (registerForm.controls['birthDate'].errors['maxAge']) {
                <p class="text-xs text-red-600">Edad máxima: 120 años</p>
                } @if (registerForm.controls['birthDate'].errors['futureDate'])
                {
                <p class="text-xs text-red-600">La fecha no puede ser futura</p>
                } }
              </div>
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700"
                >DNI</label
              >
              <input
                formControlName="dni"
                type="text"
                class="w-full px-4 py-3 mt-1 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent shadow-sm"
                placeholder="44.444.444"
              />
            </div>
          </div>

          <!-- Imagen -->
          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-2"
              >Imagen de perfil</label
            >
            <input
              (change)="onFileChange($event, 'user_avatar')"
              class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none"
              id="user_avatar"
              type="file"
              formControlName="user_avatar"
            />
            <p class="text-xs text-gray-500 mt-2">
              Solo archivos JPG y PNG. Máx 2MB.
            </p>
          </div>
        </div>

        <!-- Botón -->
        <div class="border-t pt-6 flex justify-end">
          <button
            (click)="register()"
            class="px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105"
          >
            Registrar nuevo administrador
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
